<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- These meta tags come first. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=0, width=device-width">

    <title>flipped.html</title>

    <!-- Favicon in Browser Tab -->
    <link rel="icon" sizes="192x192" href="https://dl.dropboxusercontent.com/u/50922049/flipped/App%20Icon/favicon-192.png">
    <link rel="apple-touch-icon" href="https://dl.dropboxusercontent.com/u/50922049/flipped/App%20Icon/favicon-192.png">

    <!-- Include the CSS -->
    <link href="../dist/toolkit.min.css" rel="stylesheet">

    <!-- Include the JS -->
    <script href="http://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script href="../dist/toolkit.min.js"></script>
  </head>

  <body>
    <div class="container p-t-md">
      <h1 class="text-center">List of Modals in LEARN by Page</h1>
      <h2>Home</h2>
      <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModalStudent">
        Check Profile (Student)
      </button>
      <div id="myModalStudent" class="modal">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title text-center">Your Profile</h4>
            </div>
            <div class="modal-body">
              <div class="alert alert-warning alert-dismissible" role="alert">
                <span class="icon icon-warning"></span> <span class="alert-link">Is Your Profile Correct?</span> 'Edit' or 'Report Problem' if anything is incorrect.
              </div>
              <div class="row">
                <div class="col-xs-12">
                  <div class="panel-body text-center">
                    <a href="">
                      <!-- [SyncTemplate] Display Profile Picture -->
                      <!-- <img class="panel-profile-img" src="https://dl.dropboxusercontent.com/u/50922049/Photos%20of%20Me/Professional%20Tong.jpg"> -->
                      <div style="background-image:url(https://dl.dropboxusercontent.com/u/50922049/Photos%20of%20Me/Professional%20Tong.jpg)" class="circular pro-pic-l shadow center"></div>
                    </a>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-4 col-md-6 text-right">
                  <strong>Name (EN)</strong>
                </div>
                <div class="col-xs-8 col-md-6">
                  Tong W. Ratanapan
                </div>
              </div>
              <div class="row">
                <div class="col-xs-4 col-md-6 text-right">
                  <strong>Name (TH)</strong>
                </div>
                <div class="col-xs-8 col-md-6">
                  วรพล รัตนพันธ์
                </div>
              </div>
              <div class="row">
                <div class="col-xs-4 col-md-6 text-right">
                  <strong>Student ID</strong>
                </div>
                <div class="col-xs-8 col-md-6">
                  MC26155
                </div>
              </div>
              <div class="row">
                <div class="col-xs-4 col-md-6 text-right">
                  <strong>Gender</strong>
                </div>
                <div class="col-xs-8 col-md-6">
                  Male
                </div>
              </div>
              <div class="row">
                <div class="col-xs-4 col-md-6 text-right">
                  <strong>Class</strong>
                </div>
                <div class="col-xs-8 col-md-6">
                  M.5/A
                </div>
              </div>
              <br>
              <div class="row">
                <div class="col-xs-12 text-center"><a href="">Report Problem</a></div>
              </div>
            </div>
            <div class="modal-actions">
              <button type="button" id="submit-profile-btn" class="btn-link modal-action modal-full-button" data-dismiss="modal">
                <strong>Looks great!</strong>
              </button>
            </div>
          </div>
        </div>
      </div>
      <br>
      <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#changePasswordStudent">
        Change Password (Student)
      </button>
      <div id="changePasswordStudent" class="modal">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title text-center">Change Password</h4>
            </div>
            <div class="modal-body">
              <div class="row">
                <div class="col-xs-4 col-md-6 text-right">
                  <strong>New<span class="hidden-xs"> Password</span></strong>
                </div>
                <div class="col-xs-8 col-md-6"> 
                  <input type="password" id="new_password" class="form-control" required>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-4 col-md-6 text-right">
                  <strong>Confirm<span class="hidden-xs"> Password</span></strong>
                </div>
                <div class="col-xs-8 col-md-6">
                  <input type="password" id="confirm_password" class="form-control" required>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-12 col-md-12">&nbsp;
                  <div class="alert alert-danger alert-dismissible" role="alert" ><span class="icon icon-warning"></span> Password Must Be Between 6-20 Characters.
                  </div>
                  <div class="alert alert-danger alert-dismissible" role="alert"><span class="icon icon-warning"></span> Comfirm Password Does Not Match.</div>
                  <div class="alert alert-success alert-dismissible" role="alert"><span class="icon icon-check"></span> Password Changed Successfully.</div>
                </div>
              </div>
            </div>
            <div class="modal-actions">
                <button type="submit" class="btn-link modal-action modal-full-button">SAVE</button>
            </div>
          </div>
        </div>
      </div>
      <br>

      <!-- [SyncTemplate] Leaderboard modal -->
      <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#LeaderboardStudent">
        Leaderboard (Student)
      </button>
       <div id="LeaderboardStudent" class="modal">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-body">
              <br/>
              <center>คณิตศาสตร์พื้นฐาน</center>
              <div>
                  <div>
                      <div class="text-center">
                          <div><small class="pull-right">(Sample Data)</small><div class="clear"></div></div>
                          <h2 id="weekly-leaderboard-title">Leaderboard 4/1</h2>
                          <small>11 Jan 2016</small> to <small>17 Jan 2016</small><br/><br/>
                      </div>
                      <table id="weekly-leaderboard" class="table">
                          <tbody>
                          <tr class="in-top-ten">
                            <th class="rank">1</th>
                            <td class="user-pic">
                                <div class="user-avatar">
                                    <div style="background-image:url(https://dl.dropboxusercontent.com/u/50922049/Photos%20of%20Me/Professional%20Tong.jpg)" class="circular pro-pic-s shadow"></div>
                                </div>
                            </td>
                            <td>Tong<span class="long-version"> Worapol</span></td>
                            <td class="point-obtained">120</td>
                          </tr>
                          <tr>
                            <th class="rank">2</th>
                            <td class="user-pic">
                                <div class="user-avatar">
                                    <div style="background-image:url(https://dl.dropboxusercontent.com/u/50922049/Photos%20of%20Me/Professional%20Tong.jpg)" class="circular pro-pic-s shadow"></div>
                                </div>
                            </td>
                            <td>Tong<span class="long-version"> Worapol</span></td>
                            <td class="point-obtained">100</td>
                          </tr>
                          <tr>
                            <th class="rank">3</th>
                            <td class="user-pic">
                                <div class="user-avatar">
                                    <div style="background-image:url(https://dl.dropboxusercontent.com/u/50922049/Photos%20of%20Me/Professional%20Tong.jpg)" class="circular pro-pic-s shadow"></div>
                                </div>
                            </td>
                            <td>Tong<span class="long-version"> Worapol</span></td>
                            <td class="point-obtained">90</td>
                          </tr>
                          <tr>
                            <th class="rank">4</th>
                            <td class="user-pic">
                                <div class="user-avatar">
                                    <div style="background-image:url(https://dl.dropboxusercontent.com/u/50922049/Photos%20of%20Me/Professional%20Tong.jpg)" class="circular pro-pic-s shadow"></div>
                                </div>
                            </td>
                            <td>Tong<span class="long-version"> Worapol</span></td>
                            <td class="point-obtained">80</td>
                          </tr>
                          <tr>
                            <th class="rank">5</th>
                            <td class="user-pic">
                                <div class="user-avatar">
                                    <div style="background-image:url(https://dl.dropboxusercontent.com/u/50922049/Photos%20of%20Me/Professional%20Tong.jpg)" class="circular pro-pic-s shadow"></div>
                                </div>
                            </td>
                            <td>Bun <span class="long-version"> Suwanparsert</span></td>
                            <td class="point-obtained">70</td>
                          </tr>
                          <tr>
                            <th class="rank">6</th>
                            <td class="user-pic">
                                <div class="user-avatar">
                                    <div style="background-image:url(https://dl.dropboxusercontent.com/u/50922049/Photos%20of%20Me/Professional%20Tong.jpg)" class="circular pro-pic-s shadow"></div>
                                </div>
                            </td>
                            <td>Tong<span class="long-version"> Worapol</span></td>
                            <td class="point-obtained">60</td>
                          </tr>
                          <tr>
                            <th class="rank">7</th>
                            <td class="user-pic">
                                <div class="user-avatar">
                                    <div style="background-image:url(https://dl.dropboxusercontent.com/u/50922049/Photos%20of%20Me/Professional%20Tong.jpg)" class="circular pro-pic-s shadow"></div>
                                </div>
                            </td>
                            <td>Tong<span class="long-version"> Worapol</span></td>
                            <td class="point-obtained">50</td>
                          </tr>
                          <tr>
                            <th class="rank">8</th>
                            <td class="user-pic">
                                <div class="user-avatar">
                                    <div style="background-image:url(https://dl.dropboxusercontent.com/u/50922049/Photos%20of%20Me/Professional%20Tong.jpg)" class="circular pro-pic-s shadow"></div>
                                </div>
                            </td>
                            <td>Tong<span class="long-version"> Worapol</span></td>
                            <td class="point-obtained">40</td>
                          </tr>
                          <tr>
                            <th class="rank">9</th>
                            <td class="user-pic">
                                <div class="user-avatar">
                                    <div style="background-image:url(https://dl.dropboxusercontent.com/u/50922049/Photos%20of%20Me/Professional%20Tong.jpg)" class="circular pro-pic-s shadow"></div>
                                </div>
                            </td>
                            <td>Tong<span class="long-version"> Worapol</span></td>
                            <td class="point-obtained">30</td>
                          </tr>
                          <tr>
                            <th class="rank">10</th>
                            <td class="user-pic">
                                <div class="user-avatar">
                                    <div style="background-image:url(https://dl.dropboxusercontent.com/u/50922049/Photos%20of%20Me/Professional%20Tong.jpg)" class="circular pro-pic-s shadow"></div>
                                </div>
                            </td>
                            <td>Tong<span class="long-version"> Worapol</span></td>
                            <td class="point-obtained">20</td>
                          </tr>
                          <tr class="not-in-top-ten">
                            <th class="rank">11</th>
                            <td class="user-pic">
                                <div class="user-avatar">
                                    <div style="background-image:url(https://dl.dropboxusercontent.com/u/50922049/Photos%20of%20Me/Professional%20Tong.jpg)" class="circular pro-pic-s shadow"></div>
                                </div>
                            </td>
                            <td>Tong<span class="long-version"> Worapol</span></td>
                            <td class="point-obtained">10</td>
                          </tr>
                          </tbody>
                      </table>
                  </div>
              </div>
            </div>
            <div class="modal-actions">
                <button type="submit" class="btn-link modal-action modal-full-button">CLOSE</button>
            </div>
          </div>
        </div>
      </div>
      <!-- [SyncTemplate] Leaderboard modal -->

      <br/>

      <!-- [SyncTemplate] Class Ranking modal -->
      <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#ClassRankingStudent">
        Class Ranking (Student)
      </button>
       <div id="ClassRankingStudent" class="modal">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-body">
              <br/>
              <center>คณิตศาสตร์พื้นฐาน</center>
              <div>
                <br/>
                <small class="pull-right">(Sample Data)</small>
                <div id="class-ranking-1"></div>
              </div>
            </div>
            <div class="modal-actions">
                <button type="submit" class="btn-link modal-action modal-full-button">CLOSE</button>
            </div>
          </div>
        </div>
      </div>
      <!-- [SyncTemplate] Class Ranking modal -->

      <br/>

      <!-- [SyncTemplate] Upload Profile Picture: No Privilege modal -->
      <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#UploadProfilePictureNoPrivilegeStudent">
        Upload Profile Picture: No Privilege (Student)
      </button>
       <div id="UploadProfilePictureNoPrivilegeStudent" class="modal">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title myModalLabel text-center"><strong>Privilege: Profile Picture</strong></h4>
              </div>
              <div class="modal-body">
                <p><strong>You need <span style="color:#a0a0a0;"><strong>1000</strong></span> Points to change Profile Picture.<br><br>With <span style="color:#a94442;"><strong>60</strong></span> Points, you need 940 more Points to unlock "Privilege: Profile Picture."</strong></p>
              </div>
              <div class="modal-actions">
                <button type="button" class="btn-link modal-action modal-full-button" data-dismiss="modal">I'll work harder!</button>
              </div>
          </div>
        </div>
      </div>
      <!-- [SyncTemplate] Upload rofile Picture: No Privilege modal -->

      <br>

      <!-- [SyncTemplate] Upload Profile Picture modal -->
      <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#UploadProfilePictureStudent">
        Upload Profile Picture (Student)
      </button>
       <div id="UploadProfilePictureStudent" class="modal">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-body">
                <div class="row">
                    <div class="panel-body text-center">
                        <div id="content-body">
                          <input type="file" style="display:none" id="profile-picture-input"/>
                          <div id="crop-area">
                            <button style="width:80%" id="upload-profil-picture-btn" class="btn btn-primary btn-lg">CHOOSE FILE</button>
                          </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-actions" ng-show="is_file_selected">
                <button style="height:50px" class=" btn btn-primary modal-full-button">SAVE</button>
            </div>
          </div>
        </div>
      </div>
      <!-- [SyncTemplate] Upload Profile Picture modal -->

      <br>

      <!-- [SyncTemplate] Daily Quest Detail modal -->
      <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#DailyQuestDetailStudent">
        Daily Quest Detail (Student)
      </button>
       <div id="DailyQuestDetailStudent" class="modal">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title text-center">Daily Quest Detail</h4>
            </div>
            <div class="modal-body">
              <h4>
                  <span id="tag-template"><span class="icon icon-pencil"></span> Polygon or Not?</span>
              </h4>
              <div class="paragraph"><strong><u>Description</u></strong>
                Identify if the given picture represents polygon or not.

                <strong><u>Method</u></strong>
                Polygon is a closed figure formed by straight line segments.
              </div>
              <br/><br/>
              <div class="text-center"><h1>Score: 4/5</h1></div>
            </div>
            <div class="modal-actions">
                <button type="button" style="height:50px" class="btn btn-primary modal-full-button">CONTINUE</button>
                <button type="button" style="height:50px" class="btn btn-primary modal-full-button">START</button>
            </div>
          </div>
        </div>
      </div>
      <!-- [SyncTemplate] Daily Quest Detail modal -->

    </div>

    <!-- Include jQuery (required) and the JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="../dist/toolkit.min.js"></script>
    <!-- [SyncTemplate] Add d3 library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.12/d3.min.js"></script>
  </body>
</html>

<style type="text/css">
.panel-profile-img { /* Overwrite toolkit.css */
  margin-top: 0;
}

.navbar-inverse { /* Overwrite toolkit.css */
  background-color: rgb(41, 72, 96)
}

#logo {
  height: 40px;
  margin-top: 5px;
  margin-bottom: 5px;
}

.updated {
  color: red;
}

.modal-full-button {
  width: 100%;
}

.submitted-on-time {
  background-color: #dff0d8;
  border-color: #d6e9c6;
  color: #3c763d;
}

.submitted-late {
  background-color: #fcf8e3;
  border-color: #e6d0a1;
  color: #8a6d3b;
}

.deadline-passed {
  background-color: #f2dede;
  border-color: #ebccd1;
  color: #a94442;
}

/* [SyncTemplate] CSS for Profile Picture */
.pro-pic-l {
  width: 100px;
  height: 100px;
  background-position: center;
  background-size: cover;
}

.pro-pic-m {
  width: 60px;
  height: 60px;
  background-position: center;
  background-size: cover;
}

.pro-pic-s {
  width: 35px;
  height: 35px;
  background-position: center;
  background-size: cover;
}

.circular {
  border-radius: 50%;
}

.center{
  margin: 0px auto;
}

.shadow {
  box-shadow: 0 0 5px 0;
}
/* [SyncTemplate] CSS for Profile Picture */


/* [SyncTemplate] CSS for Leaderboard modal */
.clear{
  clear: both;
}
.rank {
    text-align: center;
    width: 20px;
}
.user-pic {
    width: 50px;
}
.weekly-leaderboard-header {
    text-align: center;
    margin-bottom: 1.5em;
}

#weekly-leaderboard-title {
    font-size: 1.25em;
}

#weekly-leaderboard {
    margin-bottom: 0;
}

#weekly-leaderboard>tbody>tr>th, #weekly-leaderboard>tbody>tr>td {
    vertical-align: middle;
    padding: 2px 5px;
}

@media (max-width: 400px) {
    .long-version {
        display: none;
    }
}
.in-top-ten{ /* highlight when student is in top 10 */
    background-color: #5cb85c !important;
}

.not-in-top-ten{ /* highlight when student is not in top 10*/
    background-color: #d9534f !important;
}
/* [SyncTemplate] CSS for Leaderboard modal */


/* [SyncTemplate] CSS for Upload Profile Picture modal */
#crop-area {
  background: #E4E4E4;
  overflow: hidden;
}
/* [SyncTemplate] CSS for Upload Profile Picture modal */


/* [SyncTemplate] CSS for Daily Quest Detail modal */
.paragraph {
   word-wrap: break-word;
   white-space: pre-line;
}
/* [SyncTemplate] CSS for Daily Quest Detail modal */

</style>

<script>
$(document).ready(function(){
  $('[data-toggle="popover"]').popover()
})
</script>

<!-- [SyncTemplate] Add code to render Class Ranking modal -->
<script>
var sample_class_ranking_data = {"classrooms": [{"scores": [{"raw_score": 47, "raw_max": 50, "calculated_score": 94.0}, {"raw_score": 32, "raw_max": 50, "calculated_score": 64.0}, {"raw_score": 18, "raw_max": 50, "calculated_score": 36.0}, {"raw_score": 47, "raw_max": 50, "calculated_score": 94.0}, {"raw_score": 47, "raw_max": 50, "calculated_score": 94.0}, {"raw_score": 45, "raw_max": 50, "calculated_score": 90.0}, {"raw_score": 22, "raw_max": 50, "calculated_score": 44.0}], "total_calculated_score": 516.0, "name": "4/1", "classroom_id": 1}, {"scores": [{"raw_score": 53, "raw_max": 54, "calculated_score": 98.14814814814815}, {"raw_score": 33, "raw_max": 54, "calculated_score": 61.111111111111114}, {"raw_score": 42, "raw_max": 54, "calculated_score": 77.77777777777779}, {"raw_score": 49, "raw_max": 54, "calculated_score": 90.74074074074075}, {"raw_score": 48, "raw_max": 54, "calculated_score": 88.88888888888889}, {"raw_score": 14, "raw_max": 54, "calculated_score": 25.925925925925924}, {"raw_score": 37, "raw_max": 54, "calculated_score": 68.51851851851852}], "total_calculated_score": 511.1111111111112, "name": "4/6", "classroom_id": 6}, {"scores": [{"raw_score": 39, "raw_max": 52, "calculated_score": 75.0}, {"raw_score": 48, "raw_max": 52, "calculated_score": 92.3076923076923}, {"raw_score": 47, "raw_max": 52, "calculated_score": 90.38461538461539}, {"raw_score": 21, "raw_max": 52, "calculated_score": 40.38461538461539}, {"raw_score": 22, "raw_max": 52, "calculated_score": 42.30769230769231}, {"raw_score": 34, "raw_max": 52, "calculated_score": 65.38461538461539}, {"raw_score": 45, "raw_max": 52, "calculated_score": 86.53846153846155}], "total_calculated_score": 492.3076923076924, "name": "4/2", "classroom_id": 2}, {"scores": [{"raw_score": 34, "raw_max": 49, "calculated_score": 69.38775510204081}, {"raw_score": 28, "raw_max": 49, "calculated_score": 57.14285714285714}, {"raw_score": 30, "raw_max": 49, "calculated_score": 61.224489795918366}, {"raw_score": 36, "raw_max": 49, "calculated_score": 73.46938775510205}, {"raw_score": 43, "raw_max": 49, "calculated_score": 87.75510204081633}, {"raw_score": 41, "raw_max": 49, "calculated_score": 83.6734693877551}, {"raw_score": 8, "raw_max": 49, "calculated_score": 16.3265306122449}], "total_calculated_score": 448.9795918367347, "name": "4/11", "classroom_id": 11}, {"scores": [{"raw_score": 19, "raw_max": 54, "calculated_score": 35.18518518518518}, {"raw_score": 43, "raw_max": 54, "calculated_score": 79.62962962962963}, {"raw_score": 50, "raw_max": 54, "calculated_score": 92.5925925925926}, {"raw_score": 27, "raw_max": 54, "calculated_score": 50.0}, {"raw_score": 32, "raw_max": 54, "calculated_score": 59.25925925925925}, {"raw_score": 43, "raw_max": 54, "calculated_score": 79.62962962962963}, {"raw_score": 2, "raw_max": 54, "calculated_score": 3.7037037037037033}], "total_calculated_score": 399.99999999999994, "name": "4/4", "classroom_id": 4}, {"scores": [{"raw_score": 24, "raw_max": 44, "calculated_score": 54.54545454545454}, {"raw_score": 25, "raw_max": 44, "calculated_score": 56.81818181818182}, {"raw_score": 36, "raw_max": 44, "calculated_score": 81.81818181818183}, {"raw_score": 34, "raw_max": 44, "calculated_score": 77.27272727272727}, {"raw_score": 20, "raw_max": 44, "calculated_score": 45.45454545454545}, {"raw_score": 9, "raw_max": 44, "calculated_score": 20.454545454545457}, {"raw_score": 22, "raw_max": 44, "calculated_score": 50.0}], "total_calculated_score": 386.3636363636363, "name": "4/9", "classroom_id": 9}, {"scores": [{"raw_score": 37, "raw_max": 54, "calculated_score": 68.51851851851852}, {"raw_score": 7, "raw_max": 54, "calculated_score": 12.962962962962962}, {"raw_score": 32, "raw_max": 54, "calculated_score": 59.25925925925925}, {"raw_score": 50, "raw_max": 54, "calculated_score": 92.5925925925926}, {"raw_score": 49, "raw_max": 54, "calculated_score": 90.74074074074075}, {"raw_score": 7, "raw_max": 54, "calculated_score": 12.962962962962962}, {"raw_score": 24, "raw_max": 54, "calculated_score": 44.44444444444444}], "total_calculated_score": 381.4814814814815, "name": "4/8", "classroom_id": 8}, {"scores": [{"raw_score": 19, "raw_max": 53, "calculated_score": 35.84905660377358}, {"raw_score": 36, "raw_max": 53, "calculated_score": 67.9245283018868}, {"raw_score": 45, "raw_max": 53, "calculated_score": 84.90566037735849}, {"raw_score": 18, "raw_max": 53, "calculated_score": 33.9622641509434}, {"raw_score": 15, "raw_max": 53, "calculated_score": 28.30188679245283}, {"raw_score": 45, "raw_max": 53, "calculated_score": 84.90566037735849}, {"raw_score": 16, "raw_max": 53, "calculated_score": 30.18867924528302}], "total_calculated_score": 366.03773584905656, "name": "4/5", "classroom_id": 5}, {"scores": [{"raw_score": 22, "raw_max": 53, "calculated_score": 41.509433962264154}, {"raw_score": 7, "raw_max": 53, "calculated_score": 13.20754716981132}, {"raw_score": 5, "raw_max": 53, "calculated_score": 9.433962264150944}, {"raw_score": 39, "raw_max": 53, "calculated_score": 73.58490566037736}, {"raw_score": 51, "raw_max": 53, "calculated_score": 96.22641509433963}, {"raw_score": 51, "raw_max": 53, "calculated_score": 96.22641509433963}, {"raw_score": 7, "raw_max": 53, "calculated_score": 13.20754716981132}], "total_calculated_score": 343.3962264150944, "name": "4/7", "classroom_id": 7}, {"scores": [{"raw_score": 32, "raw_max": 53, "calculated_score": 60.37735849056604}, {"raw_score": 17, "raw_max": 53, "calculated_score": 32.075471698113205}, {"raw_score": 24, "raw_max": 53, "calculated_score": 45.28301886792453}, {"raw_score": 49, "raw_max": 53, "calculated_score": 92.45283018867924}, {"raw_score": 12, "raw_max": 53, "calculated_score": 22.641509433962266}, {"raw_score": 15, "raw_max": 53, "calculated_score": 28.30188679245283}, {"raw_score": 33, "raw_max": 53, "calculated_score": 62.264150943396224}], "total_calculated_score": 343.3962264150943, "name": "4/3", "classroom_id": 3}, {"scores": [{"raw_score": 40, "raw_max": 48, "calculated_score": 83.33333333333334}, {"raw_score": 27, "raw_max": 48, "calculated_score": 56.25}, {"raw_score": 18, "raw_max": 48, "calculated_score": 37.5}, {"raw_score": 2, "raw_max": 48, "calculated_score": 4.166666666666666}, {"raw_score": 19, "raw_max": 48, "calculated_score": 39.58333333333333}, {"raw_score": 7, "raw_max": 48, "calculated_score": 14.583333333333334}, {"raw_score": 33, "raw_max": 48, "calculated_score": 68.75}], "total_calculated_score": 304.16666666666663, "name": "4/10", "classroom_id": 10}], "days": ["2016-01-11", "2016-01-12", "2016-01-13", "2016-01-14", "2016-01-15", "2016-01-16", "2016-01-17"], "is_sample_data": true};
  
  var colored_rules = [
    {'max': 7, 'green_colored': 3},
    {'max': 1000, 'green_colored': 5},
  ];

  var render_class_ranking = function (W, H, data, tab_id) {
        var readTimeFormat = d3.time.format.utc("%Y-%m-%d").parse,
            printTimeFormat = d3.time.format("%d %b %Y");

        var margin = {top: 75, right: 40, bottom: 20, left: 40};
        var w = W - margin.left - margin.right,
            h = H - margin.top - margin.bottom;

        var svg = d3.select("#" + tab_id)
            .append("svg")
            .attr("width", W)
            .attr("height", H)
            .style("fill", "none");

        var countDay = data.days.length,
            maxCalculatedScore = 100 * countDay;

        var temp = svg.selectAll("g")
            .data(data.classrooms)
            .enter()
            .append("g");

        temp.append("line")
            .attr("x1", 0)
            .attr("y1", 0)
            .attr("x2", function (d) {
                return d.total_calculated_score * w / maxCalculatedScore;
            })
            .attr("y2", 0)
            .attr("stroke-width", "1px")
            .attr("stroke", function (d, i) {
                for(var j in colored_rules){
                    if(data['classrooms'].length <= colored_rules[j]['max']){
                        if(i < colored_rules[j]['green_colored']){
                            return "green";
                        }else{
                            return "red";
                        }
                    }
                }
            })
            .attr("stroke-opacity", 1);

        temp.append("line")
            .attr("x1", function (d) {
                return d.total_calculated_score * w / maxCalculatedScore;
            })
            .attr("y1", 0)
            .attr("x2", w)
            .attr("y2", 0)
            .attr("stroke-width", "1px")
            .attr("stroke", "grey")
            .attr("stroke-opacity", 1);

        temp.attr("transform", function (d, i) {
            return "translate(" + margin.left + "," + (margin.top + 30 * i) + ")";
        });

        /* Score Marks */
        temp.append("circle")
            .attr("cx", function (d) {
                return d.total_calculated_score * w / maxCalculatedScore;
            })
            .attr("cy", 0)
            .attr("r", 5)
            .style("stroke", function (d, i) {
                for(var j in colored_rules){
                    if(data['classrooms'].length <= colored_rules[j]['max']){
                        if(i < colored_rules[j]['green_colored']){
                            return "green";
                        }else{
                            return "red";
                        }
                    }
                }
            })
            .style("stroke-width", 2)
            .style("fill", "white");

        /* Classroom's Score Labels*/
        var scores = temp.append("text")
            .text(function (d) {
                return Math.round(d.total_calculated_score);
            })
            .style("fill", "black")
            .attr("x", w)
            .attr("y", 0)
            .style("text-anchor", "end");

        scores.attr("transform", function () {
            return 'translate(30,5)';
        });

        svg.append("text")
            .text("Score")
            .attr("x", w)
            .attr("y", 0)
            .attr("transform", function (d) {
                return "translate(" + margin.left + "," + (margin.top - 20) + ")";
            })
            .style("fill", "black")
            .style("text-anchor", "start");

        /* Classroom Labels */
        var texts = temp.append("text")
            .text(function (d) {
                return d.name;
            })
            .style("fill", "black")
            .attr("y", 0)
            .style("text-anchor", "end");

        texts.attr("transform", function () {
            return 'translate(-5,5)';
        });

        var chartTitle = svg.append("text")
            .text("Class Ranking")
            .attr("x", W / 2)
            .attr("y", "30px")
            .style("font-size", "1.5em")
            .style("text-anchor", "middle")
            .style("fill", "black");

        /* Current Class Ranking Period */
        if (data.days[0] == data.days[data.days.length]) { //
            svg.append("text")
                .text(function (d) {
                    return printTimeFormat(readTimeFormat(data.days[0]));
                })
                .attr("y", margin.top - 25)
                .style("text-anchor", "middle")
                .attr("x", W / 2)
                .style("fill", "black")
                .style("font-size", "0.75em");
        } else { //
            svg.append("text")
                .text(function (d) {
                    return printTimeFormat(readTimeFormat(data.days[0])) + ' to ' + printTimeFormat(readTimeFormat(data.days[countDay - 1]));
                })
                .attr("y", margin.top - 25)
                .style("text-anchor", "middle")
                .attr("x", W / 2)
                .style("fill", "black")
                .style("font-size", "0.75em");
        }


        svg.append("text")
            .text(function (d) {
                return "Max Score = " + maxCalculatedScore;
            })
            .attr("y", 410)
            .style("text-anchor", "middle")
            .attr("x", W / 2)
            .style("fill", "black");
    };

    $('#ClassRankingStudent').on('show.bs.modal', function (e) {
      setTimeout(function() {
        var class_ranking_element = document.getElementById('class-ranking-1');
        class_ranking_element.innerHTML = '';
        render_class_ranking(class_ranking_element.offsetWidth, 420, sample_class_ranking_data, 'class-ranking-1');
      }, 0);
    })
</script>
<!-- [SyncTemplate] Add code to render Class Ranking modal -->


<!-- [SyncTemplate] Add code to render Upload Picture modal -->
<script>
$('#UploadProfilePictureStudent').on('show.bs.modal', function (e) {
  setTimeout(function(){
    var width = document.getElementById('content-body').clientWidth;
    var modal_element = document.getElementById('crop-area');
    var upload_profile_picture_btn = document.getElementById('upload-profil-picture-btn');
    modal_element.style.width = width+"px";
    modal_element.style.height = width+"px";
    upload_profile_picture_btn.style.marginTop = width/2+"px";
  }, 0);
})
</script>
<!-- [SyncTemplate] Add code to render Upload Picture modal -->